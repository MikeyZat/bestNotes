(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(32)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(8),r=n.n(s),c=(n(14),n(1)),i=n(2),l=n(4),u=n(3),d=n(5),p=n(6),h=(n(16),n(18),n(20),function(e){return o.a.createElement("header",{className:"FrameTitle"},o.a.createElement("h1",null,"things to do:"),o.a.createElement("h3",null,e.message))}),m=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";return-1===this.props.rateOfDone?e="Hi, what must you do today?":0===this.props.rateOfDone?e="Let's get down to work!":this.props.rateOfDone<.3?e="Keep it going!":this.props.rateOfDone<.4?e="You're on a good way!":this.props.rateOfDone<.6?e="You're halfway there!":this.props.rateOfDone<1?e="Almost finished!":1===this.props.rateOfDone&&(e="Finished! I'm proud of you!"),o.a.createElement(h,{message:e})}}]),t}(a.Component),k=(n(22),function(e){return o.a.createElement("button",{onClick:e.onClick,className:"AddButton"},"Add")}),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(k,{onClick:this.props.onClick})}}]),t}(a.Component),b=(n(24),function(e){return o.a.createElement("li",{className:"Form"},o.a.createElement("label",{htmlFor:"task"},"Enter new task: "),o.a.createElement("input",{type:"text",id:"task",name:"task"}))}),g=(n(26),n(28),function(e){return o.a.createElement("button",{onClick:function(){e.onClick(e.index)},className:"DeleteButton"},"X")}),y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(g,{onClick:this.props.onClick,index:this.props.index})}}]),t}(a.Component),v=function(e){var t=function(){document.getElementById(e.index).click()},n={},a={};return e.done?(n={textDecoration:"line-through",color:"#c2c2a3"},a={background:"#f5f5f0",color:"#33cc33",fontWeight:"bold"},o.a.createElement("li",{className:"ThingToDo"},o.a.createElement("span",{style:a,className:"customCheck",onClick:t},"\u2713"),o.a.createElement("label",{style:n,htmlFor:e.index},e.task),o.a.createElement("input",{type:"checkbox",id:e.index,name:e.index,onChange:e.handleChange}),o.a.createElement(y,{onClick:e.deleteNote,index:e.index}))):o.a.createElement("li",{className:"ThingToDo"},o.a.createElement("span",{style:a,className:"customCheck",onClick:t}," "),o.a.createElement("label",{style:n,htmlFor:e.index},e.task),o.a.createElement("input",{type:"checkbox",id:e.index,name:e.index,onChange:e.handleChange}))},O=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.done!==this.props.done&&e.task===this.props.task){var t=new XMLHttpRequest,n=JSON.stringify({userName:this.props.userName,text:this.props.task,done:this.props.done});t.responseType="json",t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&t.response.ok&&console.log("zmieniono pomy\u015blnie")},t.open("POST","http://bestnotesapi-env.qbmgq6ev8j.eu-west-1.elasticbeanstalk.com/updateTask"),t.setRequestHeader("Content-type","application/json"),t.send(n)}}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return o.a.createElement(v,{handleChange:this.props.handleChange,done:this.props.done,task:this.props.task,index:this.props.index,deleteNote:this.props.deleteNote})}}]),t}(a.Component),E=function(e){var t=0,n=e.notes.map(function(n,a){return n.done&&t++,o.a.createElement(O,{userName:e.userName,key:a.toString(),index:a,done:n.done,task:n.task,handleChange:e.handleCheckboxChange,deleteNote:e.deleteNote})});return e.notes.length>0?t/=e.notes.length:t=-1,o.a.createElement("section",{className:"Frame"},o.a.createElement(m,{rateOfDone:t}),o.a.createElement("ul",{className:"tasksList"},n,o.a.createElement(b,null)),o.a.createElement(f,{onClick:e.addNote}))},j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={notes:[]},n.handleCheckboxChange=n.handleCheckboxChange.bind(Object(p.a)(Object(p.a)(n))),n.addNote=n.addNote.bind(Object(p.a)(Object(p.a)(n))),n.deleteNote=n.deleteNote.bind(Object(p.a)(Object(p.a)(n))),n.createSound=new Audio("../soundOfPaper.mp3"),n.deleteSound=new Audio("../paperTear.mp3"),n.deleteSound.volume=.3,n.checkSound=new Audio("../checkSound.mp3"),n.checkSound.volume=.5,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",function(e){"undefined"!==typeof e.key&&"enter"===e.key.toLowerCase()&&document.getElementsByClassName("AddButton")[0].click()},!1)}},{key:"componentWillMount",value:function(){var e=this,t=new XMLHttpRequest;t.responseType="json",t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){for(var n=[],a=0;a<t.response.length;a++){var o={done:t.response[a].done,task:t.response[a].text};n.push(o)}e.setState({notes:n})}},t.open("GET","".concat("http://bestnotesapi-env.qbmgq6ev8j.eu-west-1.elasticbeanstalk.com/getTasks?").concat("name=").concat(this.props.userName),!0),t.send()}},{key:"handleCheckboxChange",value:function(e){var t=this.state.notes.slice(0),n=e.target.id;t[n].done=!t[n].done,t[n].done&&this.checkSound.play(),this.setState({notes:t})}},{key:"addNote",value:function(){var e=document.getElementById("task");if(e.value){var t=new XMLHttpRequest,n=JSON.stringify({userName:this.props.userName,text:e.value});t.responseType="json",t.onreadystatechange=function(){t.readyState===XMLHttpRequest.DONE&&t.response.ok&&console.log("dodano pomy\u015blnie")},t.open("POST","http://bestnotesapi-env.qbmgq6ev8j.eu-west-1.elasticbeanstalk.com/addTask"),t.setRequestHeader("Content-type","application/json"),t.send(n),this.createSound.play();var a={done:!1,task:e.value};e.value="";var o=this.state.notes.slice(0);o.push(a),this.setState({notes:o})}}},{key:"deleteNote",value:function(e){this.deleteSound.play();var t=this.state.notes.slice(0),n=t.splice(e,1),a=new XMLHttpRequest;a.responseType="json",a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&console.log(a.response)},a.open("DELETE","".concat("http://bestnotesapi-env.qbmgq6ev8j.eu-west-1.elasticbeanstalk.com/deleteTask?").concat("name=").concat(this.props.userName,"&").concat("text=").concat(n[0].task),!0),a.send(),this.setState({notes:t})}},{key:"render",value:function(){return o.a.createElement(E,{userName:this.props.userName,addNote:this.addNote,notes:this.state.notes,handleCheckboxChange:this.handleCheckboxChange,deleteNote:this.deleteNote})}}]),t}(a.Component),N=function(e){return o.a.createElement("div",{className:"App"},o.a.createElement(j,{userName:e.userName}))},C=(n(30),function(e){var t={};return e.error&&(t={color:"red"}),o.a.createElement("form",{className:"LoginForm",onSubmit:function(t){t.preventDefault();var n=document.getElementById("nick").value;e.onSubmit(n)}},o.a.createElement("label",{style:t,htmlFor:"nick"},e.message),o.a.createElement("input",{type:"text",name:"nick",id:"nick",placeholder:"name"}),o.a.createElement("input",{type:"submit",value:"submit"}))}),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={logged:!1,user:"",loginMessage:"Who's there? Insert your name:",error:!1},n.logIn=n.logIn.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"logIn",value:function(e){e||this.setState({loginMessage:"I haven't found that account! Try again: ",error:!0}),this.setState({logged:!0,user:e.toLowerCase(),error:!1,loginMessage:"Who's there? Insert your name:"})}},{key:"render",value:function(){return this.state.logged?o.a.createElement(N,{userName:this.state.user}):o.a.createElement(C,{error:this.state.error,message:this.state.loginMessage,onSubmit:this.logIn})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,2,1]]]);
//# sourceMappingURL=main.05c09184.chunk.js.map